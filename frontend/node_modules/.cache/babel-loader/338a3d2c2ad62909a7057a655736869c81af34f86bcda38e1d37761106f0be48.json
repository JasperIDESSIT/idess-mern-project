{"ast":null,"code":"import React,{useState}from\"react\";import Select from\"react-select\";import\"bootstrap/dist/css/bootstrap.min.css\";import Swal from\"sweetalert2\";// Import SweetAlert\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TaskForm=_ref=>{let{fetchActiveTasks}=_ref;// Accept fetchActiveTasks as a prop\nconst[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");const[selectedTags,setSelectedTags]=useState([]);const options=[{value:\"sunday\",label:\"Sunday\"},{value:\"monday\",label:\"Monday\"},{value:\"tuesday\",label:\"Tuesday\"},{value:\"wednesday\",label:\"Wednesday\"},{value:\"thursday\",label:\"Thursday\"},{value:\"friday\",label:\"Friday\"},{value:\"saturday\",label:\"Saturday\"}];const handleSubmit=async event=>{event.preventDefault();const task={title,content,tags:selectedTags};try{const response=await fetch(\"/api/tasks/create-task\",{method:\"POST\",body:JSON.stringify(task),headers:{\"Content-Type\":\"application/json\"}});if(response.ok){setTitle(\"\");setContent(\"\");setSelectedTags(null);// Clear selected options\nSwal.fire({icon:\"success\",title:\"Task Added!\",toast:true,position:\"top-end\",showConfirmButton:false,timer:3000});console.log(\"New task added!\");fetchActiveTasks();}}catch(error){console.error(\"Error adding task:\",error);}};const handleTagChange=selectedOptions=>{setSelectedTags(selectedOptions);};return/*#__PURE__*/_jsxs(\"form\",{className:\"card p-2 mt-2 shadow-sm bg-light bg-gradient\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold\",children:\"Create Task\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"title-input\",type:\"text\",onChange:e=>setTitle(e.target.value),value:title,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title-input\",children:\"Title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mt-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"content-input\",type:\"text\",onChange:e=>setContent(e.target.value),value:content,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content-input\",children:\"Content\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"ms-2 small mt-2 text-muted\",children:\"Day/s\"}),/*#__PURE__*/_jsx(Select,{options:options,isMulti:true,onChange:handleTagChange,value:selectedTags// Set the value prop to selectedTags\n,required:true,closeMenuOnSelect:false}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-success mt-2\",type:\"submit\",children:\"Add Task\"})]});};export default TaskForm;","map":{"version":3,"names":["React","useState","Select","Swal","jsx","_jsx","jsxs","_jsxs","TaskForm","_ref","fetchActiveTasks","title","setTitle","content","setContent","selectedTags","setSelectedTags","options","value","label","handleSubmit","event","preventDefault","task","tags","response","fetch","method","body","JSON","stringify","headers","ok","fire","icon","toast","position","showConfirmButton","timer","console","log","error","handleTagChange","selectedOptions","className","onSubmit","children","id","type","onChange","e","target","required","htmlFor","isMulti","closeMenuOnSelect"],"sources":["C:/Users/IdessIT/Documents/GitHub/idess-mern-project/frontend/src/components/TaskForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Select from \"react-select\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Swal from \"sweetalert2\"; // Import SweetAlert\r\n\r\nconst TaskForm = ({ fetchActiveTasks }) => {\r\n  // Accept fetchActiveTasks as a prop\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n\r\n  const options = [\r\n    { value: \"sunday\", label: \"Sunday\" },\r\n    { value: \"monday\", label: \"Monday\" },\r\n    { value: \"tuesday\", label: \"Tuesday\" },\r\n    { value: \"wednesday\", label: \"Wednesday\" },\r\n    { value: \"thursday\", label: \"Thursday\" },\r\n    { value: \"friday\", label: \"Friday\" },\r\n    { value: \"saturday\", label: \"Saturday\" },\r\n  ];\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n  \r\n    const task = { title, content, tags: selectedTags };\r\n  \r\n    try {\r\n      const response = await fetch(\"/api/tasks/create-task\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(task),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n  \r\n      if (response.ok) {\r\n        setTitle(\"\");\r\n        setContent(\"\");\r\n        setSelectedTags(null); // Clear selected options\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Task Added!\",\r\n          toast: true,\r\n          position: \"top-end\",\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n        });\r\n        console.log(\"New task added!\");\r\n  \r\n        fetchActiveTasks();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding task:\", error);\r\n    }\r\n  };\r\n  \r\n\r\n  const handleTagChange = (selectedOptions) => {\r\n    setSelectedTags(selectedOptions);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className=\"card p-2 mt-2 shadow-sm bg-light bg-gradient\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <h3 className=\"fw-bold\">Create Task</h3>\r\n\r\n      <div className=\"form-floating\">\r\n        <input\r\n          className=\"form-control\"\r\n          id=\"title-input\"\r\n          type=\"text\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          value={title}\r\n          required\r\n        />\r\n        <label htmlFor=\"title-input\">Title</label>\r\n      </div>\r\n\r\n      <div className=\"form-floating mt-2\">\r\n        <textarea\r\n          className=\"form-control\"\r\n          id=\"content-input\"\r\n          type=\"text\"\r\n          onChange={(e) => setContent(e.target.value)}\r\n          value={content}\r\n          required\r\n        />\r\n        <label htmlFor=\"content-input\">Content</label>\r\n      </div>\r\n\r\n      <label className=\"ms-2 small mt-2 text-muted\">Day/s</label>\r\n      <Select\r\n        options={options}\r\n        isMulti\r\n        onChange={handleTagChange}\r\n        value={selectedTags} // Set the value prop to selectedTags\r\n        required\r\n        closeMenuOnSelect={false}\r\n      />\r\n\r\n      <button className=\"btn btn-sm btn-success mt-2\" type=\"submit\">\r\n        Add Task\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default TaskForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}