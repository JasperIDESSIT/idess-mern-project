{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import Swal from'sweetalert2';// Import SweetAlert\nimport'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TaskDetails=_ref=>{let{task}=_ref;const[archived,setArchived]=useState(false);// const [showModal, setShowModal] = useState(false); // New state for modal visibility\nconst handleArchive=async()=>{try{const response=await fetch(\"/api/tasks/archive/\".concat(task._id),{method:'PATCH'});const json=await response.json();console.log(json);setArchived(true);}catch(error){console.error('Error archiving task:',error);}};const handleDelete=()=>{Swal.fire({title:'Are you sure?',text:'This task will be moved to Archives',icon:'warning',showCancelButton:true,confirmButtonText:'Yes',cancelButtonText:'No, cancel!',reverseButtons:true}).then(result=>{if(result.isConfirmed){handleArchive();Swal.fire({title:'Archived!',text:'Task Archived',icon:'success',toast:true,position:'top-end',showConfirmButton:false,timer:3000});}});};if(archived){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-2 shadow-sm bg-success bg-gradient text-dark bg-opacity-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title ml-2 fw-bold\",children:task.title}),/*#__PURE__*/_jsx(\"strong\",{children:\"Day/s: \"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-capitalize\",style:{display:'inline-block',margin:'0',whiteSpace:'nowrap'},children:task.tags.map((tag,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[tag.value,index!==task.tags.length-1&&', ']},index))}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Content: \"}),task.content]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-start\",children:[/*#__PURE__*/_jsx(Link,{to:\"/api/tasks/view/\".concat(task._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-secondary me-2\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:handleDelete,children:\"Delete\"})]})]})});};export default TaskDetails;","map":{"version":3,"names":["React","useState","Link","Swal","jsx","_jsx","jsxs","_jsxs","TaskDetails","_ref","task","archived","setArchived","handleArchive","response","fetch","concat","_id","method","json","console","log","error","handleDelete","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","toast","position","showConfirmButton","timer","className","children","style","display","margin","whiteSpace","tags","map","tag","index","Fragment","value","length","content","to","onClick"],"sources":["C:/Users/IdessIT/Documents/GitHub/idess-mern-project/frontend/src/components/TaskDetails.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2'; // Import SweetAlert\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst TaskDetails = ({ task }) => {\r\n    const [archived, setArchived] = useState(false);\r\n    // const [showModal, setShowModal] = useState(false); // New state for modal visibility\r\n\r\n    const handleArchive = async () => {\r\n        try {\r\n            const response = await fetch(`/api/tasks/archive/${task._id}`, {\r\n                method: 'PATCH'\r\n            });\r\n            const json = await response.json();\r\n            console.log(json);\r\n            setArchived(true);\r\n        } catch (error) {\r\n            console.error('Error archiving task:', error);\r\n        }\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: 'This task will be moved to Archives',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Yes',\r\n            cancelButtonText: 'No, cancel!',\r\n            reverseButtons: true\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                handleArchive();\r\n                Swal.fire({\r\n                    title: 'Archived!',\r\n                    text: 'Task Archived',\r\n                    icon: 'success',\r\n                    toast: true,\r\n                    position: 'top-end',\r\n                    showConfirmButton: false,\r\n                    timer: 3000\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    if (archived) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"card mb-2 shadow-sm bg-success bg-gradient text-dark bg-opacity-10\">\r\n            <div className='card-body'>\r\n                <h4 className='card-title ml-2 fw-bold'>{task.title}</h4>\r\n                <strong>Day/s: </strong>\r\n                <p className='card-text text-capitalize' style={{ display: 'inline-block', margin: '0', whiteSpace: 'nowrap' }}>\r\n                    {task.tags.map((tag, index) => (\r\n                        <React.Fragment key={index}>\r\n                            {tag.value}\r\n                            {index !== task.tags.length - 1 && ', '}\r\n                        </React.Fragment>\r\n                    ))}\r\n                </p>\r\n                <p className='card-text mt-2'><strong>Content: </strong>{task.content}</p>\r\n                <div className='d-flex justify-content-start'>\r\n                    <Link to={`/api/tasks/view/${task._id}`}>\r\n                        <button className='btn btn-sm btn-secondary me-2'>Edit</button>\r\n                    </Link>\r\n                    {/* Button trigger modal */}\r\n                    {/* <button type=\"button\" className=\"btn btn-primary\" onClick={() => setShowModal(true)}>\r\n                        Edit Modal\r\n                    </button> */}\r\n                    {/* Modal */}\r\n                    {/* <div className=\"modal\" tabIndex=\"-1\" style={{ display: showModal ? 'block' : 'none' }}>\r\n                        <div className=\"modal-dialog\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h5 className=\"modal-title\">Edit Task</h5>\r\n                                    <button type=\"button\" className=\"btn-close\" onClick={() => setShowModal(false)}></button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                   \r\n                                    <p>Modal body text goes here.</p>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowModal(false)}>Close</button>\r\n                                    <button type=\"button\" className=\"btn btn-primary\">Save changes</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div> */}\r\n                    <button className='btn btn-sm btn-danger' onClick={handleDelete}>Delete</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TaskDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}