{"ast":null,"code":"import React,{useState}from'react';import'bootstrap/dist/css/bootstrap.min.css';import Swal from'sweetalert2';// Import SweetAlert\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ArchiveDetails=_ref=>{let{task}=_ref;// const formattedDate = new Date(task.createdAt).toLocaleString('en-PH', {\n//     timeZone: 'Asia/Manila',\n//     weekday: 'long',\n//     year: 'numeric',\n//     month: 'long',\n//     day: 'numeric',\n// });\nconst[activate,setActiveTask]=useState(false);const[deleted,setDeleted]=useState(false);const setActive=async()=>{try{const response=await fetch(\"/api/tasks/active/\".concat(task._id),{method:'PATCH'});const json=await response.json();console.log(json);Swal.fire({icon:'success',title:'Task Activated!',toast:true,position:'top-end',showConfirmButton:false,timer:3000});setActiveTask(true);}catch(error){console.error('Error activating task:',error);}};if(activate){return null;}const handleDelete=async()=>{Swal.fire({title:'Are you sure?',text:'You will not be able to recover this task!',icon:'warning',showCancelButton:true,confirmButtonText:'Yes, delete it!',cancelButtonText:'No, cancel!',reverseButtons:true}).then(async result=>{if(result.isConfirmed){try{const response=await fetch(\"/api/tasks/delete/\".concat(task._id),{method:'DELETE'});if(response.ok){setDeleted(true);Swal.fire({icon:'success',title:'Task Deleted!',toast:true,position:'top-end',showConfirmButton:false,timer:3000});}else{throw new Error('Failed to delete task');}}catch(error){console.error('Error deleting task:',error);}}else if(result.dismiss===Swal.DismissReason.cancel){// Action canceled, do nothing\n}});};if(deleted){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"card mt-2 shadow-sm bg-danger bg-gradient p-2 text-dark bg-opacity-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title ml-2 fw-bold\",children:task.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-capitalize\",style:{display:'inline-block',margin:'0',whiteSpace:'nowrap'},children:task.tags.map((tag,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[tag.value,index!==task.tags.length-1&&', ']},index))}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Content: \"}),task.content]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-success\",onClick:setActive,children:\"Activate\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ms-3 btn btn-sm btn-danger\",onClick:handleDelete,children:\"DELETE\"})]})});};export default ArchiveDetails;","map":{"version":3,"names":["React","useState","Swal","jsx","_jsx","jsxs","_jsxs","ArchiveDetails","_ref","task","activate","setActiveTask","deleted","setDeleted","setActive","response","fetch","concat","_id","method","json","console","log","fire","icon","title","toast","position","showConfirmButton","timer","error","handleDelete","text","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","ok","Error","dismiss","DismissReason","cancel","className","children","style","display","margin","whiteSpace","tags","map","tag","index","Fragment","value","length","content","onClick"],"sources":["C:/Users/IdessIT/Documents/GitHub/idess-mern-project/frontend/src/components/ArchiveDetails.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Swal from 'sweetalert2'; // Import SweetAlert\r\n\r\nconst ArchiveDetails = ({ task }) => {\r\n    // const formattedDate = new Date(task.createdAt).toLocaleString('en-PH', {\r\n    //     timeZone: 'Asia/Manila',\r\n    //     weekday: 'long',\r\n    //     year: 'numeric',\r\n    //     month: 'long',\r\n    //     day: 'numeric',\r\n    // });\r\n\r\n    const [activate, setActiveTask] = useState(false);\r\n    const [deleted, setDeleted] = useState(false);\r\n\r\n    const setActive = async () => {\r\n        try {\r\n            const response = await fetch(`/api/tasks/active/${task._id}`, {\r\n                method: 'PATCH'\r\n            });\r\n            const json = await response.json();\r\n            console.log(json)\r\n\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Task Activated!',\r\n                toast: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000\r\n            });\r\n\r\n            setActiveTask(true);\r\n        } catch (error) {\r\n            console.error('Error activating task:', error);\r\n        }\r\n    };\r\n\r\n    if (activate) {\r\n        return null;\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: 'You will not be able to recover this task!',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Yes, delete it!',\r\n            cancelButtonText: 'No, cancel!',\r\n            reverseButtons: true\r\n        }).then(async (result) => {\r\n            if (result.isConfirmed) {\r\n                try {\r\n                    const response = await fetch(`/api/tasks/delete/${task._id}`, {\r\n                        method: 'DELETE'\r\n                    });\r\n                    if (response.ok) {\r\n                        setDeleted(true);\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            title: 'Task Deleted!',\r\n                            toast: true,\r\n                            position: 'top-end',\r\n                            showConfirmButton: false,\r\n                            timer: 3000\r\n                        });\r\n                    } else {\r\n                        throw new Error('Failed to delete task');\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error deleting task:', error);\r\n                }\r\n            } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n                // Action canceled, do nothing\r\n            }\r\n        });\r\n    };\r\n    \r\n\r\n    if (deleted) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"card mt-2 shadow-sm bg-danger bg-gradient p-2 text-dark bg-opacity-10\">\r\n            <div className='card-body'>\r\n                {/* <p className='card-subtitle text-muted'>{formattedDate}</p> */}\r\n\r\n                <h4 className='card-title ml-2 fw-bold'>{task.title}</h4>\r\n\r\n                <p className='card-text text-capitalize' style={{ display: 'inline-block', margin: '0', whiteSpace: 'nowrap' }}>\r\n                    {task.tags.map((tag, index) => (\r\n                        <React.Fragment key={index}>\r\n                            {tag.value}\r\n                            {index !== task.tags.length - 1 && ', '}\r\n                        </React.Fragment>\r\n                    ))}\r\n                </p>\r\n\r\n                <p className='card-text mt-2'><strong>Content: </strong>{task.content}</p>\r\n\r\n                <button className='btn btn-sm btn-success' onClick={setActive}>Activate</button>\r\n                <button className='ms-3 btn btn-sm btn-danger' onClick={handleDelete}>DELETE</button>\r\n                {/* <div className='d-flex justify-content-start'>\r\n                    <Link to={`/api/tasks/view/${task._id}`}>\r\n                        <button className='btn btn-sm btn-secondary me-2'>Edit</button>\r\n                    </Link>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ArchiveDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}